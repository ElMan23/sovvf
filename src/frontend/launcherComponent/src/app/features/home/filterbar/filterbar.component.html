<div class="row">
    <div [ngClass]="(filterBarCol$ | async)">
        <div class="row">
            <div class="col-3 text-left">
                <app-tasto-chiamata-group>
                    <app-tasto-chiamata [colorButtonChiamata]="colorButton.chiamata"
                                        (startChiamata)="toggleChiamata()">
                    </app-tasto-chiamata>
                    <app-tasto-schede-contatto [active]="(schedeContattoStatus$ | async)"
                                               [disabled]="(chiamataStatus$ | async)"></app-tasto-schede-contatto>
                </app-tasto-chiamata-group>
            </div>
            <div *ngIf="(richiesteStatus$ | async)" class="col-9 pl-0">
                <app-ricerca-group [filtriSelezionati]="(filtriSelezionatiRichieste$ | async).length > 0">
                    <app-ricerca [ricerca]="(ricercaRichieste$ | async)" (search)="onSearchRichieste($event)">
                        <app-filtri-richieste [filtri]="(filtriRichieste$ | async)"
                                              [filtriSelezionati]="(filtriSelezionatiRichieste$ | async)"
                                              [categorie]="(categoriaFiltriRichieste$| async)"
                                              (filtroSelezionato)="onSelezioneFiltroRichieste($event)"
                                              (filtriReset)="eliminaFiltriAttiviRichieste()">
                        </app-filtri-richieste>
                    </app-ricerca>
                </app-ricerca-group>
            </div>
            <div *ngIf="(schedeContattoStatus$ | async)" class="col-9 pl-0">
                <app-ricerca-group [filtriSelezionati]="(filtriSelezionatiSchedeContatto$ | async).length > 0">
                    <app-ricerca [ricerca]="(ricercaSchedeContatto$ | async)" (search)="onSearchSchedeContatto($event)">
                        <app-filtri-schede-contatto [filtri]="(filtriSchedeContatto$ | async)"
                                                    [filtriSelezionati]="(filtriSelezionatiSchedeContatto$ | async)"
                                                    (filtroSelezionato)="onSelezioneFiltroSchedeContatto($event)"
                                                    (filtriReset)="eliminaFiltriAttiviSchedeContatto()">
                        </app-filtri-schede-contatto>
                    </app-ricerca>
                </app-ricerca-group>
            </div>
            <div *ngIf="(mezziInServizioStatus$ | async)" class="col-9 pl-0">
                <app-ricerca-group [filtriSelezionati]="(filtriSelezionatiMezziInServizio$ | async).length > 0">
                    <app-ricerca [disabled]="true">
                        <app-filtri-mezzi-servizio [filtri]="(filtriMezziInServizio$ | async)"
                                                    [filtriSelezionati]="(filtriSelezionatiMezziInServizio$ | async)"
                                                    (filtroSelezionato)="onSelezioneFiltroMezziInServizio($event)"
                                                    (filtriReset)="eliminaFiltriAttiviMezziInServizio()">
                        </app-filtri-mezzi-servizio>
                    </app-ricerca>
                </app-ricerca-group>
            </div>
        </div>
    </div>
    <div *ngIf="!(composizioneStatus$ | async) && !(chiamataStatus$ | async)"
         class="col-2">
        <div class="row">
            <div class="col-12">
                <app-view-mode [colorButtonView]="colorButton.buttonView"
                               [mezziInServizioActive]="viewState?.mezziInServizio.active"
                               (buttonView)="switchView($event)"
                               (optionRichieste)="onOptionsRichieste($event)"
                               [stateSwitch]="(stateSwitch$ | async)"
                               [mapStatus]="(mapsStatus$ | async)"
                               (toggleMeteo)="onMeteoSwitch($event)">
                </app-view-mode>
            </div>
        </div>
    </div>
    <div [ngClass]="(filterBarCol$ | async)">
        <div class="row">
            <div class="col-5">
            </div>
            <div *ngIf="(mapsStatus$ | async)" class="col-2 text-right pr-0">
                <app-loader-marker [markerOnLoading]="(markerOnLoading$ | async)"></app-loader-marker>
            </div>
            <div *ngIf="(mapsStatus$ | async)" class="col-5 pl-0">
                <app-filtri-mappa></app-filtri-mappa>
            </div>
        </div>
    </div>
</div>
