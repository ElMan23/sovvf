<div class="row mt-2">
    <!-- Loader (!richieste) -->
    <div *ngIf="loaderRichieste" class="col-12 position-relative m-h-750">
        <div class="loader-centrato">
            <img src="assets/img/pink_loader_resized.gif">
        </div>
    </div>
    <!-- Lista di singole Richieste -->
    <div *ngIf="richieste && richieste.length > 0" class="col-12 px-0 border-bottom" [ngClass]="heightControl()">
        <div *ngIf="loading"
             style="width:100%; height:100%; background-color: lightgrey; opacity:.2; position: absolute; top:0; left: 0; z-index:999"></div>
        <cdk-virtual-scroll-viewport #virtualScroll [itemSize]="itemSize">
            <li *cdkVirtualFor="let r of richieste" class="list-unstyled"
                [ngClass]="{'col-double': !_split, 'col-12': _split}">
                <div id="richiesta" *ngIf="r !== richiestaFissata" class="w-100 rounded card-shadow"
                     [ngClass]="cardClasses(r)">
                    <app-sintesi-richiesta class="non-fissata" [richiesta]="r" [fissata]="false" [fissabile]="true"
                                           [espanso]="isEspanso(r.id)"
                                           [espandibile]="true" [listaEventi]="true"
                                           [inGestione]="richiestaGestione?.id === r.id"
                                           [disabledModificaRichiesta]="disabledModificaRichiesta"
                                           [disabledGestisciRichiesta]="disabledGestisciRichiesta"
                                           [disabledComposizionePartenza]="disabledComposizionePartenza"
                                           [disableTooltips]="scrolling"
                                           (hoverIn)="richiestaHoverIn($event)"
                                           (hoverOut)="richiestaHoverOut($event)"
                                           (fissaInAlto)="onFissaInAlto($event)"
                                           (clickRichiesta)="richiestaClick($event)"
                                           (doubleClickRichiesta)="richiestaDoubleClick($event)"
                                           (nuovaPartenza)="nuovaPartenza($event)"
                                           (eventiRichiesta)="visualizzaEventiRichiesta($event)"
                                           (modificaRichiesta)="onModificaRichiesta($event)"
                                           (gestioneRichiesta)="onGestioneRichiesta($event)"
                                           (actionMezzo)="actionMezzo.emit($event)"
                                           (actionRichiesta)="actionRichiesta.emit($event)"
                                           (outEspansoId)="outEspansoId.emit($event)">
                    </app-sintesi-richiesta>
                </div>
                <div *ngIf="r === richiestaFissata" class="w-100 rounded card-shadow" [ngClass]="cardClasses(r)">
                    <app-sintesi-richiesta-sm class="fissata" [richiesta]="r" (mouseover)="richiestaHoverIn(r.id)"
                                              (mouseout)="richiestaHoverOut(r.id)"></app-sintesi-richiesta-sm>
                </div>
            </li>
        </cdk-virtual-scroll-viewport>
    </div>
    <!--    <div class="col-12">-->
    <!--        <div class="row mt-1">-->
    <!--            <div class="col-6 clearfix">-->
    <!--                <div class="float-left">-->
    <!--                    <button class="btn btn-primary" (click)="onPageOne()" [disabled]="loading">-->
    <!--                        <i class="fa fa-arrow-up mr-1"></i>-->
    <!--                        Prima Pagina-->
    <!--                    </button>-->
    <!--                </div>-->
    <!--                <div class="float-right">-->
    <!--                    <button class="btn btn-primary mr-2" (click)="onTop()" [disabled]="loading">-->
    <!--                        <i class="fa fa-arrow-up mr-1"></i>-->
    <!--                        Pagina Precedente-->
    <!--                    </button>-->
    <!--                    <button class="btn btn-primary" (click)="onBottom()" [disabled]="loading">-->
    <!--                        <i class="fa fa-arrow-down mr-1"></i>-->
    <!--                        Pagina Successiva-->
    <!--                    </button>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--            <div class="col-6 text-center">-->
    <!--                <h5 class="mt-2">Stai visualizzando da <b>{{ (1 * page) }}</b> a <b>20</b> di <b>83217</b> record</h5>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->
    <!--        <div *ngIf="richieste.length <= 0" class="col-12 px-0 text-center mt-4 border-bottom" [ngClass]="heightControl()">-->
    <!--            <h5>Non ci sono richieste!</h5>-->
    <!--        </div>-->
    <div *ngIf="loading" class="col-12 text-center mt-1">
        <i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>
    </div>
</div>
