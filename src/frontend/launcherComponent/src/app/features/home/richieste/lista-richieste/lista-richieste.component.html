<div class="row mt-2">
    <!-- Loader (!richieste) -->
    <div *ngIf="loaderRichieste" class="col-12 position-relative m-h-750">
        <div class="loader-centrato">
            <img src="assets/img/pink_loader_resized.gif">
        </div>
    </div>
    <!-- Lista di singole Richieste -->
    <div *ngIf="richieste && richieste.length > 0" class="col-12 py-1 px-0 overflow-auto" [ngClass]="heightControl()">
        <div *ngIf="loading"
             style="width:100%; height:100%; background-color: rgba(255,255,255,.7); position: absolute; top:0; left: 0; z-index:999">
            <div style="width:20px; height:20px; position: absolute; top:calc(50% - 10px); left:calc(50% - 10px)">
                <i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>
            </div>
        </div>
        <div *ngFor="let r of richieste | paginate: { itemsPerPage: pageSize, currentPage: page, totalItems: totalItems }"
             [ngClass]="{'col-double': !_split, 'col-12': _split}">
            <div id="richiesta" *ngIf="r !== richiestaFissata" class="w-100 rounded card-shadow"
                 [ngClass]="cardClasses(r)">
                <app-sintesi-richiesta class="non-fissata" [richiesta]="r" [fissata]="false" [fissabile]="true"
                                       [espanso]="isEspanso(r.id)"
                                       [espandibile]="true" [listaEventi]="true"
                                       [inGestione]="richiestaGestione?.id === r.id"
                                       [disabledModificaRichiesta]="disabledModificaRichiesta"
                                       [disabledGestisciRichiesta]="disabledGestisciRichiesta"
                                       [disabledComposizionePartenza]="disabledComposizionePartenza"
                                       [disableTooltips]="scrolling"
                                       (hoverIn)="richiestaHoverIn($event)"
                                       (hoverOut)="richiestaHoverOut($event)"
                                       (fissaInAlto)="onFissaInAlto($event)"
                                       (clickRichiesta)="richiestaClick($event)"
                                       (doubleClickRichiesta)="richiestaDoubleClick($event)"
                                       (nuovaPartenza)="nuovaPartenza($event)"
                                       (eventiRichiesta)="visualizzaEventiRichiesta($event)"
                                       (modificaRichiesta)="onModificaRichiesta($event)"
                                       (gestioneRichiesta)="onGestioneRichiesta($event)"
                                       (actionMezzo)="actionMezzo.emit($event)"
                                       (actionRichiesta)="actionRichiesta.emit($event)"
                                       (outEspansoId)="outEspansoId.emit($event)">
                </app-sintesi-richiesta>
            </div>
        </div>
    </div>
    <div class="col-12 text-center mt-3">
        <pagination-controls class="mb-0" [previousLabel]="'Precedente'" [nextLabel]="'Successiva'"
                             (pageChange)="pageChange.emit($event)">
        </pagination-controls>
    </div>
</div>
