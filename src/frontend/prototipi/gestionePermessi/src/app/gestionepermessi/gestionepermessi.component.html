<p-fieldset legend="Permessi assegnati" [toggleable]="true">
  <div class="row">
    <div class="col-md-12">
        <p-dataTable [value]="permessiAssegnati">
        <p-column field="descrizionePermesso" header="Descrizione"></p-column>
        <p-column field="descrizioneUnitaOperativa" header="UnitÃ  Operativa"></p-column>
        <p-column field="dataInizioPermesso" header="Data inizio" [style]="{'text-align': 'center'}">
          <ng-template let-col let-bol="rowData" pTemplate="body">
              <span>
                {{bol[col.field] | friendlyDate:20}}
              </span>
          </ng-template>
        </p-column>
        <p-column field="dataFinePermesso" header="Data fine" [style]="{'text-align': 'center'}">
          <ng-template let-col let-bol="rowData" pTemplate="body">
            <span>
              {{bol[col.field] | friendlyDate:20}}
            </span>
          </ng-template>
        </p-column>
        <p-column field="ricorsivo" header="Ricorsivo" [style]="{'text-align': 'center'}">
            <!-- <div *ngIf="[col.field]; else elseBlock">
                <button type="button" pButton icon="fa-check"></button>
            </div>
            <ng-template #elseBlock let-col="rowData" pTemplate="body">
                <button type="button" pButton icon="fa-times"></button>
            </ng-template>   -->
            <ng-template let-col let-bol="rowData" pTemplate="body">
              <div *ngIf="bol[col.field]">
              <i class="fa fa-check" aria-hidden="true" title="Permesso ricorsivo" ></i>
              </div>
              <div *ngIf="!bol[col.field]">
              <i class="fa fa-times" aria-hidden="true" title="Permesso non ricorsivo"></i>
              </div>
            </ng-template>  
        </p-column>

        <p-column field="Azioni" header="Azioni" [style]="{'text-align': 'center'}">
          <ng-template let-col let-bol="rowData" pTemplate="body">
            <!-- usare ConfirmDialog di PrimeNg -->
            <a href="#" (click)="eliminaPermesso()">
            <i class="fa fa-trash" aria-hidden="true" title="Elimina il permesso"></i>
          </a>
          </ng-template>
        </p-column>
      </p-dataTable>
    </div>
  </div>
</p-fieldset>

<br>

<div class="row">
  <p-growl [value]="msgs"></p-growl>

  <div class="col-md-6">
    <button pButton type="button" (click)="expandAll()" label="Espandi tutto"></button>
    <button pButton type="button" (click)="collapseAll()" label="Chiudi tutto"></button>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <p-tree [value]="primeNgTrees" selectionMode="single" [(selection)]="selectedFile" 
      (onNodeSelect)="nodeSelect($event)" (onNodeUnselect)="nodeUnselect($event)">
    </p-tree>
  </div>
</div>

<br>

<div class="row">
  <!-- <div class="col-md-4">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Cerca nominativo..." [(ngModel)]="testoRicerca" (keyup)="ricerca($event)">
      <span class="input-group-btn">
        <button class="btn btn-secondary" type="button" (click)="clearSearchText()"><i class="fa fa-times" aria-hidden="true"></i></button>
      </span>
    </div>
  </div> -->
  <div class="col-md-4">
    <div class="input-group">
     <p-autoComplete [(ngModel)]="nominativo" [suggestions]="filteredNames" (completeMethod)="filterNameSingle($event)" [size]="30"
        placeholder="Cerca nominativo..." [minLength]="1"></p-autoComplete>
     <button class="btn btn-secondary" type="button" (click)="clearSearchText()"><i class="fa fa-times" aria-hidden="true"></i></button>
    </div>
  </div>

  <div class="col-md-3">
    <p-checkbox label="cerca solo nel nodo selezionato" [(ngModel)]="checkNodeSelected" binary="true"></p-checkbox>
  </div>
</div>

<br>

<div class="row">
  <div class="col-md-3">
    <p-fieldset legend="Ruoli selezionati">
      <i *ngFor="let ruoli of ruoliSelezionati" style="margin-right:10px">{{ruoli}}</i>
       <div class="ui-g-12"><p-checkbox name="group1" value="Ruolo 1" label="Ruolo 1" [(ngModel)]="ruoliSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Ruolo 2" label="Ruolo 2" [(ngModel)]="ruoliSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Ruolo 3" label="Ruolo 3" [(ngModel)]="ruoliSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Ruolo 4" label="Ruolo 4" [(ngModel)]="ruoliSelezionati"></p-checkbox></div>
    </p-fieldset>
  </div> 
  
  <div class="col-md-3">
    <p-fieldset legend="Permessi selezionati">
     <i *ngFor="let permessi of permessiSelezionati" style="margin-right:10px">{{permessi}}</i>
       <div class="ui-g-12"><p-checkbox name="group1" value="Permesso 1" label="Permesso 1" [(ngModel)]="permessiSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Permesso 2" label="Permesso 2" [(ngModel)]="permessiSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Permesso 3" label="Permesso 3" [(ngModel)]="permessiSelezionati"></p-checkbox></div>
       <div class="ui-g-12"><p-checkbox name="group1" value="Permesso 4" label="Permesso 4" [(ngModel)]="permessiSelezionati"></p-checkbox></div>
    </p-fieldset>
  </div>

</div>











